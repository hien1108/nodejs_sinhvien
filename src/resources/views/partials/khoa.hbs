<div class="khoa-management">
    <div class="khoa-header">
        <h2>Quản lý Khoa</h2>
        <div class="header-actions">
            <div class="search-box">
                <input type="text" id="searchKhoa" placeholder="Tìm kiếm theo mã hoặc tên khoa..." value="{{searchTerm}}">
                <i class='bx bx-search'></i>
            </div>
            <button class="btn-add" onclick="openKhoaModal()">
                <i class='bx bx-plus'></i> Thêm Khoa
            </button>
        </div>
    </div>

    <!-- Loading spinner -->
    <div id="loadingSpinner" class="loading-spinner" style="display: none;">
        <i class='bx bx-loader-alt bx-spin'></i>
        <span>Đang xử lý...</span>
    </div>

    <table class="data-table" id="khoaTable">
        <thead>
            <tr>
                <th>Mã Khoa</th>
                <th>Tên Khoa</th>
                <th>Hành động</th>
            </tr>
        </thead>        <tbody id="facultyTableBody">
            {{#each faculties}}
                <tr>
                    <td>{{this.maKhoa}}</td>
                    <td>{{this.tenKhoa}}</td>
                    <td>
                        <button onclick="editKhoa('{{this._id}}', '{{this.maKhoa}}', '{{this.tenKhoa}}')">Sửa</button>
                        <button onclick="deleteKhoa('{{this._id}}')">Xóa</button>
                    </td>
                </tr>
            {{/each}}
        </tbody>
    </table>
</div>

<!-- Toast notification -->
<div id="toast" class="toast">
    <div class="toast-content">
        <i class="toast-icon"></i>
        <span class="toast-message"></span>
    </div>
</div>

<!-- Modal thêm sửa khoa -->
<div id="khoaModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalTitle">Thêm Khoa</h3>
            <span class="close" onclick="closeKhoaModal()"><i class='bx bx-x'></i></span>
        </div>
        <form id="khoaForm">
            <div class="modal-body">
                <div class="form-group">
                    <label for="maKhoa">Mã Khoa</label>
                    <input type="text" id="maKhoa" required>
                </div>
                <div class="form-group">
                    <label for="tenKhoa">Tên Khoa</label>
                    <input type="text" id="tenKhoa" required>
                </div>
                <input type="hidden" id="editingRowIndex">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel" onclick="closeKhoaModal()">Hủy</button>
                <button type="submit" class="btn-save">Lưu</button>
            </div>
        </form>    </div>
</div>
